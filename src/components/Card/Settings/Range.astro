---
import RangeInput from "~Components/Range";

let { setting, setting_index } = Astro.props;

let { range } = setting;

let evenOrOdd = setting_index % 2 ? "even" : "odd";

let containerProps = {
  "class:list": ["setting", evenOrOdd, setting.editable && "editable"],
};

let rangeProps = {
  value: setting.value,
  className: evenOrOdd,
  min: range.min,
  max: range.max,
};

let minProps = {
  class: "mins",
  style: {
    display: "none",
  },
};
---

<li {...containerProps}>
  <div class="wrap-title">
    <span class="title">{setting.title}</span>
    <span>
      <span class="output">none</span>
      <span {...minProps}>mins</span>
    </span>
  </div>

  <RangeInput {...rangeProps} />
</li>

<style lang="scss">
  @use "~mixins" as *;

  @mixin grid-defaults {
    gap: $margin-card;
    display: grid;
  }

  .setting {
    @include grid-defaults;

    & {
      padding: $padding-card-setting;
      font-weight: normal;
      list-style: none;
      text-align: left;
      margin-top: 0;
    }
  }

  .setting.odd {
    background-color: aliceblue;

    .slider {
      &::-webkit-slider-thumb {
        background-color: aliceblue;
      }

      @include focus {
        &::-webkit-slider-thumb {
          background-color: grey;
        }
      }
    }
  }

  .setting:not(:first-of-type) {
    border-top: 2px dashed;
  }

  .wrap-title {
    @include grid-defaults;

    & {
      justify-content: space-between;
      grid-auto-flow: column;
      align-items: center;
    }
  }

  .check.selected-state {
    fill: black;
  }
</style>
